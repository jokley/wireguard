server:
  address: tcp://0.0.0.0:9091

log:
  level: info

theme: auto

identity_validation:
  reset_password:
    jwt_secret: '${JWT_SECRET}'  # Loaded from environment variable

totp:
  issuer: jokley

session:
  name: authelia_session
  secret: '${SESSION_SECRET}'  # Loaded from environment variable
  expiration: 3600
  inactivity: 300
  authelia_url: https://me.jokley.at  # Updated to the correct URL
  cookies:
    - domain: jokley.at
      name: authelia_session
      same_site: lax
      expiration: 3600

authentication_backend:
  file:
    path: /config/users_database.yml
    password:
      algorithm: argon2id

access_control:
  default_policy: one_factor
  rules:
    - domain: '*.jokley.at'
      policy: one_factor
      subject:
        - user:admin

    - domain: franz.venti.jokley.at
      policy: one_factor
      subject:
        - user:franz

    - domain: zotta.venti.jokley.at
      policy: one_factor
      subject:
        - user:zotta

    - domain: beck.jokley.at
      policy: one_factor
      subject:
        - user:beck

storage:
  encryption_key: '${ENCRYPTION_KEY}'  # Ensure this key is at least 20 characters long
  local:
    path: /config/db.sqlite3

notifier:
  filesystem:
    filename: /config/notification.txt  # Optional if you want notification logs
