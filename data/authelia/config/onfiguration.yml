host: 0.0.0.0
port: 9091  # Port exposed from Docker

log:
  level: info

theme: auto

jwt_secret: '${JWT_SECRET}'     # Loaded from env
default_redirection_url: https://me.jokley.at

totp:
  issuer: jokley

session:
  name: authelia_session
  secret: '${SESSION_SECRET}'   # Loaded from env
  expiration: 3600
  inactivity: 300
  domain: jokley.at  # your cookie domain

authentication_backend:
  file:
    path: /config/users_database.yml
    password:
      algorithm: argon2id

access_control:
  default_policy: deny

  rules:
    # Admin full access
    - domain: '*.jokley.at'
      policy: one_factor
      groups:
        - admin

    # Franz only gets franz.venti.jokley.at
    - domain: franz.venti.jokley.at
      policy: one_factor
      subjects:
        - 'user:franz'

    # Zotta only gets zotta.venti.jokley.at
    - domain: zotta.venti.jokley.at
      policy: one_factor
      subjects:
        - 'user:zotta'

    # Beck only gets beck.jokley.at
    - domain: beck.jokley.at
      policy: one_factor
      subjects:
        - 'user:beck'


session_cookie:
  name: authelia_session

notifier:
  filesystem:
    filename: /config/notification.txt  # Optional if you want notification logs

secret: '${AUTHELIA_SECRET}'  # Loaded from env
